<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mclass.store.tripant.member.model.repository.MemberRepository">
	<select id="login" parameterType="string" resultType="MemberEntity">
		select mem_email, mem_nick, mem_password, mem_role, mem_enabled, mem_type, mem_join_date, mem_quit_date, mem_birth from member where mem_email = #{memEmail}
	</select>
	<insert id="joinEmail" parameterType="MemberEntity">
		insert into member (mem_email, mem_nick, mem_password, mem_role, mem_enabled, mem_type, mem_join_date, mem_quit_date, mem_birth) values 
		(#{memEmail}, #{memNick}, #{memPassword}, #{memRole}, #{memEnabled}, #{memType}, default, #{memQuitDate}, #{memBirth})  
	</insert>
	<select id="existNick" parameterType="string" resultType="int">
		select count(*) from member where mem_nick = #{memNick}
	</select>
</mapper>