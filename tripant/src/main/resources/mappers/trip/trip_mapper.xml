<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mclass.store.tripant.trip.model.repository.TripRepository">
	
<!-- 여행 일정 불러오기 -->
	<resultMap type="DayEntity" id="dayEntityMap">
		<id column="TRAVEL_DATE" property="travelDate"/>
		<result column="SCHEDULE_START" property="scheduleStart"/>
		<result column="SCHEDULE_END" property="scheduleEnd"/>
		<collection ofType="DayDetailInfoEntity" property="dayDetailInfoEntity">
			<result column="PLACE_TYPE" property="placeType"/>
			<result column="CONTENTID" property="contentid"/>
			<result column="TRAVEL_ORDER" property="travelOrder"/>
			<result column="STAY_TIME" property="stayTime"/>
			<result column="MEMO" property="memo"/>
			<result column="TITLE" property="title"/>
			<result column="ADDRESS" property="address"/>
			<result column="FIRSTIMAGE" property="firstimage"/>
			<result column="LNG" property="lng"/>
			<result column="LAT" property="lat"/>
		</collection>
	</resultMap>
	<select id="detailList" parameterType="int" resultMap="dayEntityMap">
		SELECT TRAVEL_DATE , SCHEDULE_START ,SCHEDULE_END ,CONTENTID ,PLACE_TYPE , STAY_TIME ,
		TRAVEL_ORDER ,MEMO ,TITLE ,ADDRESS ,FIRSTIMAGE ,LNG ,LAT  
		FROM DETAILINFO WHERE PLAN_ID = #{planId} ORDER BY TRAVEL_DATE ASC ,TRAVEL_ORDER ASC
	</select>
	
	<!-- <update id=""></update> -->
	
</mapper>