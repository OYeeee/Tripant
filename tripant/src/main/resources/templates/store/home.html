<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common/header :: head('스토어')}"></head>
<style>
.wrap-main {
	width: 960px;
	margin: 100px auto;
}

.wrap-main * {
	font-family: 'GangwonEdu_OTFBoldA';
}

.wrap-main .btn {
	cursor: pointer;
	border-radius: 8px;
	border: 0;
	background-color: lightgrey;
	padding: 5px 5px 2px 5px;
}

.wrap-main .hide{
	display: none;
}

.wrap-main .sale{
	color: red;
}

.wrap-main .flex {
	display: flex;
	row-gap: 10px;
}
.wrap-main .flex.store{
	flex-direction: column;
	width: 100%;
}
.wrap-main .checked{
	background: lightgrey;
	font-size: var(--font3);
	line-height: 2em;
	padding: 0 10px;
	border-radius: 10px;
}
.wrap-main .title{
	font-size: var(--font1);
	margin-top: 15px;
}
.wrap-main .explain{
	font-size: var(--font4);
}
.wrap-main .list.flex{
	flex-direction: row;
	column-gap: 20px;
	overflow-x: scroll;
}
.wrap-main .item.flex{
	flex-direction: column;
	margin-bottom: 10px;
}
.wrap-main .item.pre{
	border-radius: 10px;
}
.wrap-main input{
	margin-bottom: 7px;
}
.wrap-main .item.explain.flex{
	flex-direction: row;
	justify-content: space-between;
	align-items: center;
}
.wrap-main .item.price{
	text-align: right;
}
.wrap-main .explain.font.flex{
	align-items: center;
	line-height: 2em;
	column-gap: 10px;
}
.wrap-main .btn.font{
	margin-bottom: 10px;
}
.wrap-main .pay{
	text-align: center;
	margin: 0 0 10px 0;
}
.wrap-main .warn{
	font-size: var(--font6);
	color: lightgrey;
}
</style>
<script>
$(loadedHandler);
function loadedHandler(){
	//버튼 호버 css
	$('.btn').hover(function(){
		$(this).css('background-color', 'black');
		$(this).css('color', 'white');
	}, function(){
		$(this).css('background-color', 'lightgrey');
		$(this).css('color', 'black');
	});
	$('input').on('click', itemNumHandler);
}
// 상품 선택 시 개수 표현
function itemNumHandler(){
	let itemNum = $('input:checked').length;
	if(itemNum > 0){
		$('.checked').removeClass('hide');
		$('#itemNum').text(itemNum);
	}else{
		$('.checked').addClass('hide');
	}
	console.log(itemNum);
}
</script>
<body>
	<header class="header" th:replace="~{common/header :: wrap-header}"></header>
	<div class="wrap-main">
		<div class="flex store">
			<div class="checked hide"><strong id="itemNum"></strong>개의 상품이 선택되었습니다.</div>
			<div class="title">테마</div>
			<div class="explain">공개 여행기를 나만의 색으로 개성을 나타낼 수 있어요!</div>
			<div class="list flex" th:if="${themeList} != null">
				<div class="item flex" th:each="theme : ${themeList}">
					<div class="item pre" style="width: 150px; height: 150px; background: red;"></div>
					<div class="item explain flex">
						<div th:text="${theme.itemName}"></div>
						<div><input type="checkbox" name="theme"></div>
					</div>
					<div class="item price" th:text="${theme.itemPrice}+'원'"></div>
				</div>
			</div>
			<div class="title">글꼴</div>
			<div class="explain font flex">
				<div>글꼴은 총 8개가 제공됩니다.</div>
				<div><button type="button" class="btn font">미리보기</button></div>
			</div>
			<div class="list flex" th:if="${fontList} != null">
				<div class="item flex" th:each="font : ${fontList}">
					<div class="item pre" style="width: 150px; height: 150px; background: red;"></div>
					<div class="item explain flex">
						<div th:text="${font.itemName}"></div>
						<div><input type="radio" name="font"></div>
					</div>
					<div class="item price" th:text="${font.itemPrice}+'원'" th:if="${font.itemPrice} % 1000 == 0"></div>
					<div class="item price sale" th:text="${font.itemPrice}+'원 할인!'" th:unless="${font.itemPrice} % 1000 == 0"></div>
				</div>
			</div>
			<div class="pay"><button type="button" class="btn pay">선택한 상품 결제</button></div>
			<div class="warn">※ 환불/취소는 구매 일자 기준 7일 이내에만 가능합니다.</div>
		</div>
	</div>
	<footer class="footer" th:insert="~{common/footer :: wrap-footer}"></footer>
</body>
</html>